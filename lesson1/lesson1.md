# [Event storming](https://miro.com/app/board/uXjVK4iL9Yo=/?share_link_id=297028262401)
Допущения
- аутентификация работает автоматически
- статус услуг не выделял отдельно

Группировал по ивентам,  по командам не было общего
### Работа с задачей
Выделены все команды и события связанные с созданием задачи, изменением ее статуса

### Комплаенс
Выделен контроль качества

### Нотификации
Нотификации воркеру и клиенту

### Биллинг
Все связанное с начислением и списанием денег(кроме тотализатора)

### Прием на работу
Все необходимое для приема на работу. Заявки, тесты. 

### Склад
Все про расходники 

### Тотализатор
... 

# [Data model](https://lucid.app/lucidchart/b013792a-5642-451b-8e51-4de55c3a585a/edit?viewport_loc=5593%2C-1358%2C6067%2C3117%2C0_0&invitationId=inv_dbf84982-1971-4370-a316-55df346f292d)

# [Структура сервисов](https://miro.com/app/board/uXjVK4iL9Yo=/) 
тот же миро файл, что для ивент шторма

### Тотализатор 
Тотализатор в отдельном сервисе и базе, тк некритичный и с потенциальными проблемами с законом. Должно быть легко отпилить. Взаимодействие с core не принципиально через что. Поскольку нет нагрузок или требований ко времени ответа. Для простоты выбрал хттп 

### worker (Прием на работу)
Отдельно, тк нагрузка отличается сильно от остальных систем+ возможный ддос. Взаимодействие с core не принципиально через что. Поскольку нет нагрузок или требований ко времени ответа. Для простоты выбрал хттп

### core(Работа с задачей, комплаенс, склад)
Поместил несколько контекстов в один сервис, тк схожие требования к нагрузке, есть совпадающие данные. 

### Биллинг 
отличаются требования по нагрузке от других систем. Возможно понадобится динамически масштабировать. На начальном этапе можно также засунуть в core. Для простоты выбрал хттп

### Нотификации
У сервиса может быть довольно много нагрузки, тк рассылка идет на большое количество событий. Взаимодействие с другими сервисами через очередь, чтобы размазать нагрузку 
